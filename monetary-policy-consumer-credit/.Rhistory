rownames(tbl) <- c("Xeljanz", "Ruxolitinib")
colnames(tbl) <- c("Improved", "Not Improved")
print(tbl)
fisher_test_greater <- fisher.test(tbl, alternative = "greater")
print(fisher_test_greater)
fisher_test_less <- fisher.test(tbl, alternative = "less")
print(fisher_test_less)
phi_coeff <- (a+b+c+d)/sqrt((a+b)*(c+d)*(a+c)*(b+d))
cat("Phi Coefficient: ", phi_coeff)
data_alopecia__7 <- data[data$alopecia_diagnosis___7 == 1,]
View(data_alopecia__7)
write.csv(data_inhibitor, "AlopeciaDatabase_DATA_Type7.csv", row.naes = FALSE)
data_alopecia__7 <- data[data$alopecia_diagnosis___7 == 1,]
write.csv(data_alopecia__7, "AlopeciaDatabase_DATA_Type7.csv", row.naes = FALSE)
data_alopecia__7 <- data[data$alopecia_diagnosis___7 == 1,]
write.csv(data_alopecia__7, "AlopeciaDatabase_DATA_Type7.csv", row.naes = FALSE)
data_alopecia__7 <- data[data$alopecia_diagnosis___7 == 1,]
write.csv(data_alopecia__7, "AlopeciaDatabase_DATA_Type7.csv", row.naes = FALSE)
write.csv(data_alopecia__7, "AlopeciaDatabase_DATA_Type7.csv", row.names = FALSE)
type7 <- data[data$alopecia_diagnosis___7 == 1,]
write.csv(type7, "AlopeciaDatabase_DATA_Type7.csv", row.names = FALSE)
type7_jak <- type7[type7$specify_jak_inhibitor___1 == 1 | type7$specify_jak_inhibitor___2 == 1| type7$specify_jak_inhibitor___3 == 1,]
View(type7)
type7 <- type7[rowSums(type7[,c(7:12, 14,15)]) == 0,]
type7 <- data[data$alopecia_diagnosis___7 == 1,]
type7 <- type7[rowSums(type7[,c(7:12, 14,15)]) == 0,]
write.csv(type7, "AlopeciaDatabase_DATA_Type7.csv", row.names = FALSE)
View(type7)
type7_jak <- type7[type7$specify_jak_inhibitor___1 == 1 | type7$specify_jak_inhibitor___2 == 1| type7$specify_jak_inhibitor___3 == 1,]
write.csv(data_inhibitor, "AlopeciaDatabase_DATA_Type7JAK.csv", row.names = FALSE)
type7_topicalsteroid <- type7[type7$treatments___11 == 1,]
View(type7_jak)
type7_jak <- type7[type7$specify_jak_inhibitor___1 == 1 | type7$specify_jak_inhibitor___2 == 1| type7$specify_jak_inhibitor___3 == 1,]
type7_jak <- type7_jak[rowSums(type7_jak[,c(81,90)]) == 0,]
type7_topicalsteroid <- type7[type7$treatments___11 == 1,]
View(type7_topicalsteroid)
type7_topicalsteroid <- type7[rowSums(type7_topicalsteroid[,c(79, 90)]) == 0,]
type7_ILK <- type7[type7$treatments__20 == 1 & type7$treatments__9 == 0 & type7$treatments__11 == 0,]
type7_ILK <- type7[type7$treatments__20 == 1,]
type7_ILK <- type7[type7$treatments___20 == 1 & type7$treatments___9 == 0 & type7$treatments___11 == 0,]
type7_jak <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 0,]
type7_topicalsteroid <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
type7_topicalsteroid <- type7[rowSums(type7_topicalsteroid[,c(79, 90)]) == 0,]
type7_topicalsteroid <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
type7 <- data[data$alopecia_diagnosis___7 == 1,]
type7 <- type7[rowSums(type7[,c(7:12, 14,15)]) == 0,]
write.csv(type7, "AlopeciaDatabase_DATA_Type7.csv", row.names = FALSE)
type7_jak <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 0,]
write.csv(data_inhibitor, "AlopeciaDatabase_DATA_Type7JAK.csv", row.names = FALSE)
type7_topicalsteroid <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
write.csv(type7_topicalsteroid, "AlopeciaDatabase_DATA_Type7TopicalSteroids.csv", row.names = FALSE)
type7_ILK <- type7[type7$treatments___20 == 1 & type7$treatments___9 == 0 & type7$treatments___11 == 0,]
write.csv(type7_ILK, "AlopeciaDatabase_DATA_Type7ILK.csv", row.names = FALSE)
View(type7)
type7_jak_topicalsteroid <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
type7_jak_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
type7_jak_topicalsteroid_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
type7_ILK_toipicalsteroid <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
type7_JAK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 0,]
write.csv(type7_JAK, "AlopeciaDatabase_DATA_Type7JAK.csv", row.names = FALSE)
data <- read.csv("AlopeciaDatabase_DATA.csv")
type7 <- data[data$alopecia_diagnosis___7 == 1,]
type7 <- type7[rowSums(type7[,c(7:12, 14,15)]) == 0,]
write.csv(type7, "AlopeciaDatabase_DATA_Type7.csv", row.names = FALSE)
type7_JAK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 0,]
write.csv(type7_JAK, "AlopeciaDatabase_DATA_Type7JAK.csv", row.names = FALSE)
type7_TS <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
write.csv(type7_topicalsteroid, "AlopeciaDatabase_DATA_Type7TS.csv", row.names = FALSE)
write.csv(type7_TS, "AlopeciaDatabase_DATA_Type7TS.csv", row.names = FALSE)
type7_ILK <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
write.csv(type7_ILK, "AlopeciaDatabase_DATA_Type7ILK.csv", row.names = FALSE)
type7_JAK_TS <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
type7_JAK_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
type7_JAK_TS <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
type7_JAK_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
type7_TS_ILK <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
type7_JAK_TS_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
write.csv(type7_JAK_ILK, "Type7_JAK_ILK.csv", row.names = FALSE)
write.csv(type7_TS_ILK, "Type7_TS_ILK.csv", row.names = FALSE)
write.csv(type7_JAK_TS, "Type7_JAK_TS_ILK.csv", row.names = FALSE)
write.csv(type7_ILK, "Type7_ILK.csv", row.names = FALSE)
write.csv(type7_TS, "Type7_TS.csv", row.names = FALSE)
write.csv(type7_JAK, "Type7_JAK.csv", row.names = FALSE)
write.csv(type7, "Type7.csv", row.names = FALSE)
nrow(data[data$specify_jak_inhibitor___1 == 1 | data$specify_jak_inhibitor___2 == 1 | data$specify_jak_inhibitor___3 == 1,])
data <- read.csv("AlopeciaDatabase_DATA.csv")
library(tidyverse)
library(ggplot2)
library(UpSetR)
library(binom)
knitr::opts_knit$set(root.dir = getwd())
data <- read.csv("AlopeciaDatabase_DATA.csv")
setwd("\Users\chaeeunshin\Desktop\AlopeciaDatabaseProj\Datasets")
setwd("/Users/chaeeunshin/Desktop/AlopeciaDatabaseProj\Datasets")
setwd("/Users/chaeeunshin/Desktop/AlopeciaDatabaseProj/Datasets")
data <- read.csv("AlopeciaDatabase_DATA.csv")
setwd("/Users/chaeeunshin/Desktop/AlopeciaDatabaseProj/Datasets")
setwd("/Users/chaeeunshin/Desktop/AlopeciaDatabaseProj/Datasets")
data <- read.csv("AlopeciaDatabase_DATA.csv")
type7 <- data[data$alopecia_diagnosis___7 == 1,]
type7 <- type7[rowSums(type7[,c(7:12, 14,15)]) == 0,]
write.csv(type7, "Type7.csv", row.names = FALSE)
type7_JAK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 0,]
write.csv(type7_JAK, "Type7_JAK.csv", row.names = FALSE)
type7_TS <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
write.csv(type7_TS, "Type7_TS.csv", row.names = FALSE)
type7_ILK <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
write.csv(type7_ILK, "Type7_ILK.csv", row.names = FALSE)
type7_JAK_TS <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
write.csv(type7_JAK_TS, "Type7_JAK_TS.csv", row.names = FALSE)
type7_JAK_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
write.csv(type7_JAK_ILK, "Type7_JAK_ILK.csv", row.names = FALSE)
type7_TS_ILK <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
write.csv(type7_TS_ILK, "Type7_TS_ILK.csv", row.names = FALSE)
type7_JAK_TS_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
write.csv(type7_JAK_TS, "Type7_JAK_TS_ILK.csv", row.names = FALSE)
nrow(type7[type7$treatments___9 == 1,])
nrow(type7[type7$treatments___9 == 0 & type7$specify_jak_inhibitor___1 == 1,])
nrow(type7[type7$treatments___9 == 0 & type7$specify_jak_inhibitor___2 == 1,])
nrow(type7[type7$treatments___9 == 0 & type7$specify_jak_inhibitor___3 == 1,])
print(type7_JAK$study_id)
print(type7_JAK_TS$study_id)
print(type7_JAK_ILK$study_id)
print(type7_JAK_TS_ILK$study_id)
type7_JAK <- read.csv("Type7_JAK.csv")
setwd("/Users/chaeeunshin/Desktop/AlopeciaDatabaseProj/Datasets")
type7_JAK <- read.csv("Type7_JAK.csv")
JAK_list <- as.data.frame(type7_JAK$study_id,
type7_JAK$result_jak
)
JAK_list
JAK_IDlist <- c(type7_JAK$study_id, type7_JAK_TS$study_id, type7_JAK_ILK$study_id, type7_JAK_TS_ILK$study_id)
JAK_IDlist
JAK_ID <- c(type7_JAK$study_id, type7_JAK_TS$study_id, type7_JAK_ILK$study_id, type7_JAK_TS_ILK$study_id)
type7_JAK_TS <- read.csv("Type7_JAK_TS.csv")
setwd("/Users/chaeeunshin/Desktop/AlopeciaDatabaseProj/Datasets")
type7_JAK <- read.csv("Type7_JAK.csv")
type7_JAK_TS <- read.csv("Type7_JAK_TS.csv")
type7_JAK_ILK <- read.csv("Type7_JAK_ILK.csv")
type7_JAK_TS_ILK <- read.csv("Type7_JAK_TS_ILK.csv")
JAK_ID <- c(type7_JAK$study_id, type7_JAK_TS$study_id, type7_JAK_ILK$study_id, type7_JAK_TS_ILK$study_id)
JAK_results <- c(type7_JAK$result_jak, type7_JAK_TS$result_JAK, type7_JAK_ILK$result_JAK, type7_JAK_TS_ILK$result_JAK)
as.data.frame(JAK_ID,
JAK_results)
JAK <- as.data.frame(JAK_ID, JAK_results)
JAK <- sort(JAK$JAK_ID)
JAK
JAK <- as.data.frame(JAK_ID, JAK_results)
JAK <- JAK[order(JAK$JAK_ID),]
JAK
JAK <- as.data.frame(JAK_ID, JAK_results)
JAK
nrow(JAK)
length(JAK_ID)
type7_JAK_TS <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 0,]
write.csv(type7_JAK_TS, "Type7_JAK_TS.csv", row.names = FALSE)
type7_JAK_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 0 & type7$treatments___20 == 1,]
write.csv(type7_JAK_ILK, "Type7_JAK_ILK.csv", row.names = FALSE)
type7_TS_ILK <- type7[type7$treatments___9 == 0 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
write.csv(type7_TS_ILK, "Type7_TS_ILK.csv", row.names = FALSE)
type7_JAK_TS_ILK <- type7[type7$treatments___9 == 1 & type7$treatments___11 == 1 & type7$treatments___20 == 1,]
write.csv(type7_JAK_TS_ILK, "Type7_JAK_TS_ILK.csv", row.names = FALSE)
type7_JAK <- read.csv("Type7_JAK.csv")
type7_JAK_TS <- read.csv("Type7_JAK_TS.csv")
type7_JAK_ILK <- read.csv("Type7_JAK_ILK.csv")
type7_JAK_TS_ILK <- read.csv("Type7_JAK_TS_ILK.csv")
View(type7_JAK_TS_ILK)
type7_JAK <- read.csv("Type7_JAK.csv")
type7_JAK_TS <- read.csv("Type7_JAK_TS.csv")
type7_JAK_ILK <- read.csv("Type7_JAK_ILK.csv")
type7_JAK_TS_ILK <- read.csv("Type7_JAK_TS_ILK.csv")
type7_JAK_TS_ILK <- type7_JAK_TS_ILK[,210]
type7_JAK_TS_ILK <- read.csv("Type7_JAK_TS_ILK.csv")
type7_JAK_TS_ILK <- type7_JAK_TS_ILK[,-210]
JAK_ID <- c(type7_JAK$study_id, type7_JAK_TS$study_id, type7_JAK_ILK$study_id, type7_JAK_TS_ILK$study_id)
JAK_results <- c(type7_JAK$result_jak, type7_JAK_TS$result_JAK, type7_JAK_ILK$result_JAK, type7_JAK_TS_ILK$result_JAK)
JAK <- as.data.frame(JAK_ID, JAK_results)
JAK
length(JAK_ID)
JAK[order(JAK$JAK_ID)]
JAK[order(JAK$JAK_ID),]
JAK <- as.data.frame(JAK_ID, JAK_results)
View(JAK)
t
t
JAK_ID <- c(type7_JAK$study_id, type7_JAK_TS$study_id, type7_JAK_ILK$study_id, type7_JAK_TS_ILK$study_id)
JAK_results <- c(type7_JAK$result_jak, type7_JAK_TS$result_JAK, type7_JAK_ILK$result_JAK, type7_JAK_TS_ILK$result_JAK)
JAK <- as.data.frame(JAK_ID, JAK_results)
View(JAK)
View(data)
print(data[data$study_id == c(102, 196, 297)])
print(data[data$study_id == c(102, 196, 297),])
notreported <- data[data$study_id == c(102, 196, 297),]
notreported <- data[data$study_id %in% c(102, 196, 297),]
View(notreported)
library(dplyr)
type7_groups <- type7 %>%
mutate(group = case_when(
treatments___9 == 1 & treatments___11 == 0 & treatments___20 == 0 ~ "JAK",
treatments___9 == 0 & treatments___11 == 1 & treatments___20 == 0 ~ "TS",
treatments___9 == 0 & treatments___11 == 0 & treatments___20 == 1 ~ "ILK",
treatments___9 == 1 & treatments___11 == 1 & treatments___20 == 0 ~ "JAK_TS",
treatments___9 == 1 & treatments___11 == 0 & treatments___20 == 1 ~ "JAK_ILK",
treatments___9 == 0 & treatments___11 == 1 & treatments___20 == 1 ~ "TS_ILK",
treatments___9 == 1 & treatments___11 == 1 & treatments___20 == 1 ~ "JAK_TS_ILK",
TRUE ~ "Other"
))
View(type7_groups)
type7_JAK <- type7_groups[type7_groups$group == "JAK"]
type7_JAK <- type7_groups[type7_groups$group == "JAK",]
type7_JAK <- type7_groups[type7_groups$group == "JAK",]
type7_TS <- type7_groups[type7_groups$group == "TS",]
type7_ILK <- type7_groups[type7_groups$group == "ILK",]
type7_JAK_TS <- type7_groups[type7_groups$group == "JAK_TS",]
type7_JAK_ILK <- type7_groups[type7_groups$group == "JAK_ILK",]
type7_TS_ILK <- type7_groups[type7_groups$group == "TS_ILK",]
type7_JAK_TS_ILK <- type7_groups[type7_groups$group == "JAK_TS_ILK",]
JAK <- as.data.frame(JAK_ID, JAK_results)
JAK
View(type7_JAK_ILK)
View(type7_JAK_TS_ILK)
type7_JAK <- read.csv("Type7_JAK.csv")
type7_JAK_TS <- read.csv("Type7_JAK_TS.csv")
type7_JAK_ILK <- read.csv("Type7_JAK_ILK.csv")
type7_JAK_TS_ILK <- read.csv("Type7_JAK_TS_ILK.csv")
type7_JAK_TS_ILK <- type7_JAK_TS_ILK[,-210]
JAK_ID <- c(type7_JAK$study_id, type7_JAK_TS$study_id, type7_JAK_ILK$study_id, type7_JAK_TS_ILK$study_id)
JAK_results <- c(type7_JAK$result_jak, type7_JAK_TS$result_JAK, type7_JAK_ILK$result_JAK, type7_JAK_TS_ILK$result_JAK)
JAK <- as.data.frame(JAK_ID, JAK_results)
JAK
View(type7)
nrow(type7[type7[,c(7:12,141,5)==1],])
cols_to_check <- c(7:12,14,15)
all(type7[,cols_to_check == 0])
type7_ILK <- read.csv("Type7_ILK.csv")
type7_TS <- read.csv("Type7_TS.csv")
type7_TS_ILK <- read.csv("Type7_TS_ILK.csv")
type7_JAK_TS_ILK <- type7_JAK_TS_ILK[,-210]
type7_TSILK <- rbind(type7_ILK, type7_TS, type7_TS_ILK)
View(type7_TSILK)
type7_TSILK <- type7_TSILK[do.call(order, type7_TSILK[,1])]
type7_TSILK <- type7_TSILK[do.call(order, type7_TSILK[,1]),]
type7_TSILK[,1]
type7_TSILK <- rbind(type7_ILK, type7_TS, type7_TS_ILK)
type7_TSILK <- type7_TSILK[do.call(order, type7_TSILK[,1]),]
type7_TSILK <- type7_TSILK[order(type7_TSILK$study_id),]
View(type7_TSILK)
?write.csv
write.csv(type7_TSILK, "type7_TSILK", row.names = FALSE)
write.csv(type7_TSILK, "type7_TSILK.csv", row.names = FALSE)
type7_TSILK <- read.csv("Type7_TSILK.csv")
View(type7_TSILK)
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
View(type7_TSILK)
type7_TSILK <- type7_TSILK[-c(195:nrow(type7_TSILK)),]
View(type7_TSILK)
type7_JAK <- read.csv("Type7_JAK.csv")
View(type7_JAK)
type7_JAK <- type7_JAK[-c(9:nrow(type7_JAK))]
type7_JAK <- type7_JAK[-c(9:nrow(type7_JAK)),]
View(type7_JAK)
View(type7_TSILK)
View(type7_JAK)
colnames(type7_TSILK)[ncol(type7_TSILK)] <- "result_TSILK"
library(tidyverse)
type7_TSILK$result_TSILK <- as.factor(type7_TSILK$result_TSILK)
View(type7_TSILK)
View(type7_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(TSILK,
"Worsened" = -1,
"Unchanged" = 0,
"Improved" = 1,
"Unknown" = NA))
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"Worsened" = -1,
"Unchanged" = 0,
"Improved" = 1,
"Unknown" = NA))
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"Worsened" = "-1",
"Unchanged" = "0",
"Improved" = "1",
"Unknown" = ""))
View(type7_TSILK)
View(type7_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
Worsened = "-1",
Unchanged = "0",
Improved = "1",
Unknown = ""))
View(type7_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"worsened" = "-1",
"unchanged" = "0",
"improved" = "1",
"unknown" = ""))
View(type7_TSILK)
type7_TSILK <- read.csv("Type7_TSILK.csv")
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[-c(195:nrow(type7_TSILK)),]
colnames(type7_TSILK)[ncol(type7_TSILK)] <- "result_TSILK"
type7_TSILK$result_TSILK <- as.factor(type7_TSILK$result_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"worsened" = "-1",
"unchanged" = "0",
"improved" = "1"))
type7_TSILK <- type7_TSILK[type7_TSILK$result_TSILK == "unknown" | type7_TSILK$result_TSILK == "disregard",]
type7_TSILK <- read.csv("Type7_TSILK.csv")
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[-c(195:nrow(type7_TSILK)),]
colnames(type7_TSILK)[ncol(type7_TSILK)] <- "result_TSILK"
type7_TSILK$result_TSILK <- as.factor(type7_TSILK$result_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"worsened" = "-1",
"unchanged" = "0",
"improved" = "1"))
type7_TSILK <- type7_TSILK[-type7_TSILK$result_TSILK == "unknown" | type7_TSILK$result_TSILK == "disregard",]
library(dplyr)
type7_TSILK <- type7_TSILK %>%
filter(result_TSILK == "-1" | result_TSILK = "0" | result_TSILK = "1")
type7_TSILK <- type7_TSILK %>%
filter(result_TSILK == "-1" | result_TSILK == "0" | result_TSILK == "1")
type7_TSILK <- read.csv("Type7_TSILK.csv")
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- read.csv("Type7_TSILK.csv")
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[-c(195:nrow(type7_TSILK)),]
colnames(type7_TSILK)[ncol(type7_TSILK)] <- "result_TSILK"
type7_TSILK$result_TSILK <- as.factor(type7_TSILK$result_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"worsened" = "-1",
"unchanged" = "0",
"improved" = "1"))
View(type7_TSILK)
type7_TSILK <- type7_TSILK %>%
filter(result_TSILK %in% c("-1", "0", "1"))
View(type7_TSILK)
type7_TSILK <- read.csv("Type7_TSILK.csv")
type7_JAK <- read.csv("Type7_JAK.csv")
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[-c(195:nrow(type7_TSILK)),]
colnames(type7_TSILK)[ncol(type7_TSILK)] <- "result_TSILK"
type7_TSILK$result_TSILK <- as.factor(type7_TSILK$result_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"worsened" = "-1",
"unchanged" = "0",
"improved" = "1"))
type7_TSILK <- type7_TSILK %>%
filter(result_TSILK %in% c("-1", "0", "1"))
type7_JAK <- type7_JAK[-c(9:nrow(type7_JAK)),]
View(type7_TSILK)
View(type7_JAK)
type7_TSILK$result_TSILK <- as.numeric(type7_TSILK$result_TSILK)
type7_JAK <- type7_JAK %>%
filter(result_jak %in% c(0,1))
# Contingency Table
a <- nrow(type7_JAK[type7_JAK$result_jak == 1,])
b <- nrow(type7_JAK) - a
c <- nrow(type7_TSILK[type7_TSILK$result_TSILK == 1,])
d <- nrow(type7_TSILK)-c
View(type7_TSILK)
type7_TSILK <- read.csv("Type7_TSILK.csv")
type7_TSILK <- type7_TSILK[,-c(5:ncol(type7_TSILK))]
type7_TSILK <- type7_TSILK[-c(195:nrow(type7_TSILK)),]
colnames(type7_TSILK)[ncol(type7_TSILK)] <- "result_TSILK"
type7_TSILK$result_TSILK <- as.factor(type7_TSILK$result_TSILK)
type7_TSILK <- type7_TSILK %>%
mutate(result_TSILK = recode(result_TSILK,
"worsened" = "-1",
"unchanged" = "0",
"improved" = "1"))
type7_TSILK <- type7_TSILK %>%
filter(result_TSILK %in% c("-1", "0", "1"))
c <- nrow(type7_TSILK[type7_TSILK$result_TSILK == 1,])
d <- nrow(type7_TSILK)-c
tbl <- matrix(c(1,2,3,4), nrow = 2, byrow = TRUE)
rownames(tbl) <- c("JAK inhibitor", "Topical Steroid/Intralesional Kenalog")
colnames(tbl) <- c("Improved", "Unchanged")
print(tbl)
tbl <- matrix(c(a,b,c,d), nrow = 2, byrow = TRUE)
rownames(tbl) <- c("JAK inhibitor", "Topical Steroid/Intralesional Kenalog")
colnames(tbl) <- c("Improved", "Unchanged")
print(tbl)
# Odd Ratios and Fisher's Exact Test
OR <- (a*d)/(b*c)
print(OR)
fishertest <- fisher.test(tbl, alternative = "greater")
print(fishertest)
# Contingency Table
a <- nrow(type7_JAK[type7_JAK$result_jak == 1,])
c <- nrow(type7_JAK) - a
b <- nrow(type7_TSILK[type7_TSILK$result_TSILK == 1,])
d <- nrow(type7_TSILK)-c
tbl <- matrix(c(a,b,c,d), nrow = 2, byrow = TRUE)
rownames(tbl) <- c("Improved", "Unchanged")
colnames(tbl) <- c("JAK inhibitor", "Topical Steroid/Intralesional Kenalog")
print(tbl)
# Odd Ratios and Fisher's Exact Test
OR <- (a*d)/(b*c)
print(OR)
fishertest <- fisher.test(tbl, alternative = "greater")
print(fishertest)
# Risk Difference
RD <- (a/(a+c))-(b/(b+d))
print(RD)
p_JAK <- a/(a+c)
L_JAK <- ((p_JAK+(z^2/2*n_JAK)) + z*sqrt(((p_JAK*(1-p_JAK))/n_JAK)+(z^2/4*n_JAK^2)))/(1+z^2/n_JAK)
p_JAK <- a/(a+c)
z <- 1.96
n_JAK <- a+c
L_JAK <- ((p_JAK+(z^2/2*n_JAK)) + z*sqrt(((p_JAK*(1-p_JAK))/n_JAK)+(z^2/4*n_JAK^2)))/(1+z^2/n_JAK)
install.packages("DescTools")
library(DescTools)
BinomDiffCI(a, a+c, b, b+d, method = "Newcombe")
BinomDiffCI(a, a+c, b, b+d, method = "score")
BinomDiffCI(a, a+c, b, b+d, method = "mn")
BinomDiffCI(a, a+c, b, b+d, method = "score")
print(RD)
install.packages("PropCIs")
library(PropCIs)
newcombeRD(a, a+c, b, b+d, conf.level = 0.95)
library(PropCIs)
install.packages("tern")
library(tern)
install.packages("prevalence")
library(prevalence)
library(prevalence)
install.packages("prevalence")
library(prevalence)
library(prevalence)
install.packages("prevalence")
library(prevalence)
install.packages(MKinfer)
install.packages("MKinfer")
library(MKinfer))
library(MKinfer)
binomDiffCI(a, b, c, d, conf.level = 0.95, method = "wilson-cc")
binomDiffCI(a, b, c, d, conf.level = 0.95)
install.packages("binom")
library(binom)
CI_JAK <- binom.confint(a, a+c, method = "wilson")
CI_JAK
CI_TSILK <- binom.confint(b, b+d, method = "wilson")
U1 <- CI_JAK$upper
L2 <- CI_TSILK$lower
U2 <- CI_TSILK$upper
newcombe_CI <- c(L1-U2, U1-L2)
CI_JAK <- binom.confint(a
, a+c, method = "wilson")
CI_JAK <- binom.confint(a, a+c, method = "wilson")
L1 <- CI_JAK$lower
U1 <- CI_JAK$upper
CI_TSILK <- binom.confint(b, b+d, method = "wilson")
L2 <- CI_TSILK$lower
U2 <- CI_TSILK$upper
newcombe_CI <- c(L1-U2, U1-L2)
newcombe_CI
print(tbl)
# Risk Difference
RD <- (a/(a+c))-(b/(b+d))
print(RD)
CI_JAK <- binom.confint(a, a+c, method = "wilson")
L1 <- CI_JAK$lower
U1 <- CI_JAK$upper
CI_TSILK <- binom.confint(b, b+d, method = "wilson")
L2 <- CI_TSILK$lower
U2 <- CI_TSILK$upper
print(c(L1,U1))
print(c(L2,U2))
newcombe_CI
setwd("\Users\chaeeunshin\Desktop\Research_Fall2025")
setwd("/Users/chaeeunshin/Desktop/Research_Fall2025")
FEDFUNDS <- read.csv("FEDFUNDS.csv")
setwd("/Users/chaeeunshin/Desktop/Research_Fall2025")
FEDFUNDS <- read.csv("FEDFUNDS.csv")
View(FEDFUNDS)
setwd("/Users/chaeeunshin/Desktop/monetary-policy-consumer-credit")
FEDFUNDS <- read.csv("FEDFUNDS.csv")
REVOLSL <- read.csv("REVOLSL.csv")
# Control variables
UNRATE <- read.csv("UNRATE.csv")
A229RX0 <- read.csv("A229RX0.csv")
CPIAUCSL <- read.csv("CPIAUCSL.csv")
FEDFUNDS_diff <- diff(FEDFUNDS)
FEDFUNDS_diff <- diff(FEDFUNDS$FEDFUNDS)
REVOLSL <- diff(REVOLSL$REVOLSL)
REVOLSL_diff <- diff(REVOLSL$REVOLSL)
# Dependent variable
REVOLSL <- read.csv("REVOLSL.csv")
REVOLSL_diff <- diff(REVOLSL$REVOLSL)
REVOLSL_diff <- log10(REVOLSL_diff)
# Dependent variable
REVOLSL <- read.csv("REVOLSL.csv")
logREV <- log10(REVOLSL)
# Dependent variable
REVOLSL <- read.csv("REVOLSL.csv")
logREV <- log10(REVOLSL$REVOLSL)
logREV_diff <- diff(logREV)
install.packages('tseries')
library(tseries)
kpss.test(UNRATE$UNRATE)
